@echo off
REM Memory Dumper Component - Batch Test Script
REM Quick launcher for comprehensive testing

setlocal enabledelayedexpansion

echo.
echo ================================================================================
echo                 MEMORY DUMPER COMPONENT - BATCH TEST LAUNCHER
echo ================================================================================
echo.

REM Step 1: Navigate to directory
echo [STEP 1] Navigating to MemoryDumper directory...
cd /d f:\MalwareAnalysis\Daemon\MemoryDumper
if errorlevel 1 (
    echo ERROR: Could not navigate to directory
    pause
    exit /b 1
)
echo OK - Current directory: %cd%
echo.

REM Step 2: Check Python
echo [STEP 2] Checking Python installation...
python --version >nul 2>&1
if errorlevel 1 (
    echo ERROR: Python not found or not in PATH
    pause
    exit /b 1
)
for /f "tokens=*" %%i in ('python --version 2^>^&1') do set PYTHON_VERSION=%%i
echo OK - %PYTHON_VERSION%
echo.

REM Step 3: List files
echo [STEP 3] Checking test files...
if exist test_memory_dumper.py (
    echo OK - test_memory_dumper.py found
) else (
    echo ERROR: test_memory_dumper.py not found
    pause
    exit /b 1
)

if exist advanced_memory_dumper.py (
    echo OK - advanced_memory_dumper.py found
) else (
    echo ERROR: advanced_memory_dumper.py not found
    pause
    exit /b 1
)

if exist memory_dump_integration.py (
    echo OK - memory_dump_integration.py found
) else (
    echo ERROR: memory_dump_integration.py not found
    pause
    exit /b 1
)

if exist dump_countdown.py (
    echo OK - dump_countdown.py found
) else (
    echo ERROR: dump_countdown.py not found
    pause
    exit /b 1
)

echo.

REM Step 4: Run tests
echo [STEP 4] Running comprehensive test suite...
echo ================================================================================
echo.

python test_memory_dumper.py

echo.
echo ================================================================================
echo [STEP 5] Test execution complete
echo ================================================================================
echo.
echo Next Steps:
echo   1. Review test output above
echo   2. Check F:\MalwareAnalysis\MemoryDumps\ for generated files
echo   3. Review logs in MemoryDumps\IntegrationReports\
echo   4. Integrate with PreAnalyzer
echo.

pause
